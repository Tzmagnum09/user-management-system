{% extends 'base.html.twig' %}

{% block title %}{{ 'Préférences de cookies'|trans }} - {{ parent() }}{% endblock %}

{% block body %}
<div class="container mt-5 mb-5">
    <div class="row justify-content-center">
        <div class="col-md-10">
            <div class="card">
                <div class="card-header card-header-gradient">
                    <h1 class="h3 mb-0">{{ 'Préférences de cookies'|trans }}</h1>
                </div>
                <div class="card-body">
                    <p>{{ 'Sur cette page, vous pouvez gérer vos préférences concernant l\'utilisation des cookies sur notre site.'|trans }}</p>
                    
                    <div class="alert alert-info">
                        <p>
                            <i class="fas fa-info-circle"></i> 
                            {{ 'Certains cookies sont nécessaires au bon fonctionnement du site et ne peuvent pas être désactivés. D\'autres cookies nous aident à améliorer votre expérience en personnalisant le contenu ou en analysant l\'utilisation du site.'|trans }}
                        </p>
                    </div>
                    
                    <div class="mt-4">
                        <h4>{{ 'Types de cookies que nous utilisons'|trans }}</h4>
                        
                        <div class="mt-3">
                            <h5>{{ 'Cookies nécessaires'|trans }}</h5>
                            <p>{{ 'Ces cookies sont essentiels pour le fonctionnement de base du site web et ne peuvent pas être désactivés.'|trans }}</p>
                        </div>
                        
                        <div class="mt-3">
                            <h5>{{ 'Cookies de préférences'|trans }}</h5>
                            <p>{{ 'Ces cookies permettent de mémoriser vos choix et préférences, comme la langue préférée ou la région où vous vous trouvez.'|trans }}</p>
                        </div>
                        
                        <div class="mt-3">
                            <h5>{{ 'Cookies statistiques'|trans }}</h5>
                            <p>{{ 'Ces cookies nous aident à comprendre comment les visiteurs interagissent avec notre site web en recueillant et rapportant des informations de manière anonyme.'|trans }}</p>
                        </div>
                        
                        <div class="mt-3">
                            <h5>{{ 'Cookies marketing'|trans }}</h5>
                            <p>{{ 'Ces cookies sont utilisés pour suivre les visiteurs sur les sites web. Le but est d\'afficher des publicités qui sont pertinentes et intéressantes pour l\'utilisateur individuel.'|trans }}</p>
                        </div>
                    </div>
                    
                    <div class="d-grid gap-2 mt-4">
                        <button type="button" id="open-cookie-settings" class="btn btn-gradient">
                            <i class="fas fa-cog me-2"></i> {{ 'Gérer mes préférences de cookies'|trans }}
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Bouton pour ouvrir la modale de préférences
            const openSettingsBtn = document.getElementById('open-cookie-settings');
            if (openSettingsBtn && window.cookieManager) {
                openSettingsBtn.addEventListener('click', function() {
                    window.cookieManager.showModal();
                });
                
                // Ouvrir automatiquement la modale
                setTimeout(function() {
                    window.cookieManager.showModal();
                }, 500);
            }
        });
    </script>
{% endblock %}